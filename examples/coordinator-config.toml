# Example coordinator configuration for local testing
#
# Before using:
# 1. Run: cargo run --bin kuiper-forge -- ca init --org "Test Org"
# 2. Run: cargo run --bin kuiper-forge -- ca server-cert --hostname localhost
#
# Then start the coordinator:
#   cargo run --bin kuiper-forge -- -c examples/coordinator-config.toml serve

[github]
# For testing without GitHub, use placeholder values
# The coordinator will fail to get runner tokens but agent registration will work
app_id = 123456
private_key_path = "/tmp/fake-github-key.pem"  # Won't be used for registration testing
# Note: installation_id is auto-discovered from your GitHub App installations

[grpc]
listen_addr = "0.0.0.0:9443"

[tls]
# UPDATE THESE PATHS for your system!
# macOS: ~/Library/Application Support/kuiper-forge/
# Linux: ~/.local/share/kuiper-forge/
#
# Example for macOS (replace YOUR_USERNAME):
# ca_cert = "/Users/YOUR_USERNAME/Library/Application Support/kuiper-forge/ca.crt"
#
# Or use the output from: cargo run --bin kuiper-forge -- init-config
ca_cert = "UPDATE_THIS_PATH/ca.crt"
ca_key = "UPDATE_THIS_PATH/ca.key"
server_cert = "UPDATE_THIS_PATH/server.crt"
server_key = "UPDATE_THIS_PATH/server.key"

# Database configuration (optional - defaults work for local testing)
# The database backend is selected at compile time:
#   --features sqlite (default): stores data in coordinator.db
#   --features postgres: connects to PostgreSQL
[database]
# SQLite (default): uncomment to customize path
# path = "UPDATE_THIS_PATH/coordinator.db"

# PostgreSQL: uncomment these when using --features postgres
# host = "localhost"
# port = 5432
# user = "kuiper"
# password = "secret"
# database = "kuiper_forge"

# No runners configured for basic registration testing
# Add runner configs when you have a working GitHub App
